<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Machine Learning Midterm Cheat Sheet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom markdown styling for prompts */
        .markdown-code {
            background-color: #f1f5f9; /* Tailwind gray-100 */
            border-radius: 0.375rem; /* rounded-md */
            padding: 1rem;
            overflow-x: auto;
            font-size: 0.875rem; /* text-sm */
        }
        .markdown-code code {
            font-family: monospace;
            white-space: pre-wrap; /* Allows the content to wrap within the block */
        }
        /* Simple style to hide non-active tabs */
        .tab-content.hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto px-4 py-8">

    
        <!-- END NEW BANNER -->

        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900">Machine Learning Midterm Cheat Sheet</h1>
            <a href="https://docs.google.com/document/d/1qYk89sVQCBJf4ukxQdZT8Vq16acSqz7wXtYvmhe7HbE/edit?usp=sharing" target="_blank" class="underline hover:text-indigo-600">
                    Access Google Docs Link
                </a>
        </header>

        <!-- Tab Navigation -->
        <div class="border-b border-gray-200 mb-8 sticky top-0 bg-gray-50 z-10">
            <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                <button onclick="switchTab(1)" id="tab-btn-1" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-indigo-600 border-indigo-500" aria-current="page">
                    Regression & Metrics
                </button>
                <button onclick="switchTab(2)" id="tab-btn-2" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300">
                    K-Nearest Neighbors (KNN)
                </button>
                <button onclick="switchTab(3)" id="tab-btn-3" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300">
                    Logistic Regression
                </button>
                <button onclick="switchTab(4)" id="tab-btn-4" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300">
                    Cross-Validation & Grid Search
                </button>
                <button onclick="switchTab(5)" id="tab-btn-5" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ML Assignment Prompts
                </button>
            </nav>
        </div>

        <main>
            <!-- Tab 1: Regression Content -->
            <div id="tab-content-1" class="tab-content space-y-8">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üì¶ 1. Importing Libraries</h2>
                    <p class="text-gray-600 mb-4">Import all essential libraries for data analysis, visualization, and ML models.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sb

# sklearn modules for dataset loading, splitting, and modeling
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression, Lasso, Ridge
from sklearn.metrics import r2_score</code></pre>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üìä 2. Load and Inspect Dataset</h2>
                    <p class="text-gray-600 mb-4">Load dataset and inspect basic structure and stats.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python"># Example: load your own CSV file
data = pd.read_csv("your_dataset.csv")

# View first few rows
print(data.head())

# View column names and types
print(data.info())

# Get summary statistics for numeric columns
print(data.describe())</code></pre>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üîç 3. Select Features and Target</h2>
                    <p class="text-gray-600 mb-4">Define the input features (X) and target variable (y).</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python"># Example: assume 'target' column is what we want to predict
X = data.drop(columns=['target'])
y = data['target']

print("Shape of X:", X.shape)
print("Shape of y:", y.shape)</code></pre>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üìà 4. Visualizing Data</h2>
                    <p class="text-gray-600 mb-4">Use Seaborn and Matplotlib to explore variable relationships.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python"># Scatter plot between one feature and target
feature = 'your_feature_name'  # replace with actual column name
plt.figure(figsize=(8, 6))
plt.scatter(X[feature], y)
plt.xlabel(feature)
plt.ylabel("Target Value")
plt.title(f"{feature} vs Target")
plt.show()

# Correlation heatmap
plt.figure(figsize=(8, 6))
sb.heatmap(data.corr(), annot=True, cmap="coolwarm", fmt=".2f")
plt.title("Feature Correlation Heatmap")
plt.show()</code></pre>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">ü§ñ 5. Train-Test Split</h2>
                    <p class="text-gray-600 mb-4">Split dataset into training and test sets.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)</code></pre>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üìâ 6. Multiple Linear Regression</h2>
                    <p class="text-gray-600 mb-4">Fit a Linear Regression model using all available features.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">est = LinearRegression()
est.fit(X_train, y_train)

y_pred = est.predict(X_test)

print("Multiple Linear Regression")
print("R¬≤ Score:", r2_score(y_test, y_pred))
print("Weights (Coefficients):", est.coef_)
print("Bias (Intercept):", est.intercept_)</code></pre>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üß† 7. Lasso & Ridge Regression (Regularization)</h2>
                    <p class="text-gray-600 mb-4">Lasso shrinks coefficients to zero (feature selection); Ridge penalizes large coefficients (reduces overfitting).</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python"># Lasso
est_lasso = Lasso(alpha=0.1) 
est_lasso.fit(X_train, y_train)
print("Lasso R¬≤:", r2_score(y_test, est_lasso.predict(X_test)))

# Ridge
est_ridge = Ridge(alpha=1.0)
est_ridge.fit(X_train, y_train)
print("Ridge R¬≤:", r2_score(y_test, est_ridge.predict(X_test)))</code></pre>
                    </div>
                </div>
            </div>

            <!-- Tab 2: KNN Content -->
            <div id="tab-content-2" class="tab-content space-y-8 hidden">
                <!-- Section 1: Load Data & Preprocessing -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üì¶ 1. Data Preparation for KNN Classification</h2>
                    <p class="text-gray-600 mb-4">Example loading California Housing data and converting the continuous target variable into a binary classification problem (Above/Below Median Price).</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">import numpy as np
from sklearn.datasets import fetch_california_housing
from sklearn.model_selection import train_test_split
from sklearn.neighbors import KNeighborsClassifier
from sklearn.metrics import accuracy_score

# Load data and convert target
data = fetch_california_housing()
X = data.data
y = data.target
medianPrice = np.median(y)
binary_y = (y > medianPrice).astype(int) # Target 0 or 1

X_train, X_test, y_train, y_test = train_test_split(X, binary_y, test_size=0.2, random_state=42)</code></pre>
                    </div>
                </div>
                
                <!-- Section 2: KNN Without Scaling -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üèÉ 2. KNN (Unscaled Data)</h2>
                    <p class="text-gray-600 mb-4">KNN without scaling often performs poorly if features have vastly different ranges.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">est = KNeighborsClassifier()
est.fit(X_train, y_train)
pred = est.predict(X_test)
print("Accuracy (Unscaled):", accuracy_score(y_test, pred))</code></pre>
                    </div>
                </div>
                
                <!-- Section 3: KNN With Scaling -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üìè 3. KNN with Feature Scaling (MinMaxScaler)</h2>
                    <p class="text-gray-600 mb-4">Scaling is crucial for distance-based algorithms. Fit the scaler on training data ONLY, then transform both train and test sets.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">from sklearn.preprocessing import StandardScaler, MinMaxScaler

# Choose a scaler (MinMax or Standard)
scaler = MinMaxScaler() 
scaler.fit(X_train)

X_train_scaled = scaler.transform(X_train)
X_test_scaled = scaler.transform(X_test)

# Train KNN on scaled data
est_scaled = KNeighborsClassifier()
est_scaled.fit(X_train_scaled, y_train)

pred_scaled = est_scaled.predict(X_test_scaled)

print("Accuracy (Scaled):", accuracy_score(y_test, pred_scaled))</code></pre>
                    </div>
                </div>

                <!-- Section 4: Visualizing KNN Errors -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üé® 4. Visualizing Misclassified Points</h2>
                    <p class="text-gray-600 mb-4">Plotting two features to show true classes (`c=y_test`) and highlighting errors (`edgecolors='r'`).</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">import matplotlib.pyplot as plt

# Using unscaled test data for plotting for clarity
pred_unscaled = KNeighborsClassifier().fit(X_train, y_train).predict(X_test)

plt.figure(figsize=(8, 6))
plt.scatter(X_test[:, 0], X_test[:, 1], 
            c=y_test, 
            linewidths = (y_test != pred_unscaled) * 1.5, 
            edgecolors='r')
plt.xlabel(data.feature_names[0])
plt.ylabel(data.feature_names[1])
plt.title("KNN Test Predictions (Errors Highlighted in Red)")
plt.colorbar()
plt.show()</code></pre>
                    </div>
                </div>
            </div>

            <!-- Tab 3: Logistic Regression Content -->
            <div id="tab-content-3" class="tab-content space-y-8 hidden">
                <!-- Section 1: Generate Synthetic Data -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üé≤ 1. Generate & Visualize Synthetic Data</h2>
                    <p class="text-gray-600 mb-4">Create sample data using `make_blobs` for binary classification demonstration.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from sklearn.datasets import make_blobs

n = 1000
X, y = make_blobs(n, centers=2, cluster_std=[2,4], random_state=42)

plt.scatter(X[:,0], X[:,1], c=y)
plt.title("Synthetic Blob Data")
plt.colorbar(label="Class")
plt.show()</code></pre>
                    </div>
                </div>
                <!-- Section 2: Train Logistic Regression -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üß† 2. Train the Logistic Regression Model</h2>
                    <p class="text-gray-600 mb-4">Split the data, fit a `LogisticRegression` model, and evaluate its accuracy.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">from sklearn.model_selection import train_test_split
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import accuracy_score

X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

est = LogisticRegression()
est.fit(X_train, y_train)

pred = est.predict(X_test)

print("Accuracy:", accuracy_score(y_test, pred))
print("Coefficients:", est.coef_)
print("Intercept:", est.intercept_)</code></pre>
                    </div>
                </div>
                <!-- Section 3: Visualize Decision Boundary -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üìà 3. Visualize the Decision Boundary</h2>
                    <p class="text-gray-600 mb-4">The decision boundary is the line where the model predicts the probability of class 1 is 0.5.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">def dividingLine(x):
    b = est.intercept_[0]
    w1, w2 = est.coef_.T
    # Equation derived from w1*x1 + w2*x2 + b = 0
    c = -b / w2
    m = -w1 / w2
    return m * x + c

x_range = np.array([np.min(X[:,0]), np.max(X[:,0])])

# Highlight misclassified points (y_test != pred) with red edges
plt.scatter(X_test[:,0], X_test[:,1], c=y_test, 
            linewidths = (y_test != pred) * 2, edgecolors='r') 
plt.plot(x_range, dividingLine(x_range), color='black', linestyle='--')
plt.title("Logistic Regression Decision Boundary")
plt.axis('equal')
plt.show()</code></pre>
                    </div>
                </div>
            </div>

            <!-- Tab 4: Cross-Validation & Grid Search Content -->
            <div id="tab-content-4" class="tab-content space-y-8 hidden">
                
                <!-- Section 1: Iris Data Load/Inspection -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üå∏ 1. Load and Inspect Iris Data (Multiclass)</h2>
                    <p class="text-gray-600 mb-4">Load a standard multiclass dataset and visualize its structure using Pairplots and Correlation Heatmaps.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.datasets import load_iris

ds = load_iris()
X = ds.data
y = ds.target

# Detailed Feature Visualization (Pairplot)
df = load_iris(as_frame=True)['frame']
sns.pairplot(df, hue='target', palette='colorblind')
plt.show()

# Correlation Heatmap
cor = np.corrcoef(X, rowvar=False)
plt.figure(figsize=(7, 6))
sns.heatmap(cor, annot=True, xticklabels=ds.feature_names, yticklabels=ds.feature_names)
plt.title("Feature Correlation")
plt.show()</code></pre>
                    </div>
                </div>

                <!-- Section 2: CV Splitters -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üî™ 2. Cross-Validation Split Strategies</h2>
                    <p class="text-gray-600 mb-4">Common ways to split data for robust evaluation: K-Fold (most common), Leave-One-Out (for small datasets), ShuffleSplit (random sampling).</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">from sklearn.model_selection import KFold, ShuffleSplit

X_demo = np.arange(20).reshape(-1,1)
# Use KFold for fixed splits
cv = KFold(n_splits=4, shuffle=True, random_state=42)

print("K-Fold Splits (n_splits=4):")
for i, (train_index, test_index) in enumerate(cv.split(X_demo)):
    print(f"  Fold {i+1}: Train count={len(train_index)}, Test count={len(test_index)}")</code></pre>
                    </div>
                </div>

                <!-- Section 3: Using cross_val_score -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üéØ 3. Evaluating Model with `cross_val_score`</h2>
                    <p class="text-gray-600 mb-4">Evaluate a base model (e.g., KNN with k=3) across all folds defined by the CV strategy.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">from sklearn.model_selection import cross_val_score
from sklearn.neighbors import KNeighborsClassifier

# X and y from Iris data, loaded previously
est = KNeighborsClassifier(n_neighbors=3)
cv_strategy = KFold(n_splits=5, shuffle=True, random_state=42)

scores = cross_val_score(est, X, y, scoring='accuracy', cv=cv_strategy)

print(f"Average Score: {np.mean(scores):.4f}")
print(f"Standard Deviation: {np.std(scores):.4f}")</code></pre>
                    </div>
                </div>

                <!-- Section 4: Grid Search CV -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üîç 4. Hyperparameter Tuning with `GridSearchCV`</h2>
                    <p class="text-gray-600 mb-4">Search for optimal hyperparameters (`n_neighbors` and distance metric `p`) by exhaustively testing every combination defined in `param_grid`.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python">from sklearn.model_selection import GridSearchCV, StratifiedShuffleSplit

est = KNeighborsClassifier()
# StratifiedShuffleSplit maintains class proportions across folds
cv_grid = StratifiedShuffleSplit(n_splits=5, test_size=0.2, random_state=42)

param_grid = {
    'n_neighbors': range(3, 11), # k from 3 to 10
    'p': range(1, 6)             # distance metric (p=1: Manhattan, p=2: Euclidean)
}

search = GridSearchCV(est, param_grid, scoring='accuracy', cv=cv_grid, n_jobs=-1)
search.fit(X, y)

print("Best CV Score:", search.best_score_)
print("Best Parameters:", search.best_params_)
print("Best Model:", search.best_estimator_)</code></pre>
                    </div>
                </div>
                
                <!-- Section 5: Visualizing Grid Search Results (Heatmap) -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-3">üìä 5. Heatmap of Grid Search Scores</h2>
                    <p class="text-gray-600 mb-4">Visualize the `mean_test_score` for every combination of hyperparameters using a heatmap for easy comparison.</p>
                    <div class="bg-gray-900 rounded-md">
                        <div class="flex justify-between items-center px-4 py-2 border-b border-gray-700">
                            <span class="text-gray-400 text-sm">Python</span>
                            <button onclick="copyCode(this)" class="bg-gray-700 text-gray-300 hover:bg-gray-600 text-xs font-medium py-1 px-3 rounded">Copy</button>
                        </div>
                        <pre class="p-4 text-white text-sm overflow-x-auto"><code class="language-python"># Assuming 'search' object was created in the previous step
results = pd.DataFrame(search.cv_results_)

# Pivot the results table to get (p x n_neighbors) matrix
pivot_table = results.pivot_table(
    index='param_p', 
    columns='param_n_neighbors', 
    values='mean_test_score'
)

plt.figure(figsize=(10, 6))
sns.heatmap(pivot_table, annot=True, fmt=".4f", cmap="YlGnBu")
plt.title("Grid Search Accuracy Scores")
plt.xlabel("n_neighbors (k)")
plt.ylabel("p (Distance Metric)")
plt.show()</code></pre>
                    </div>
                </div>
            </div>

            <!-- Tab 5: ML Assignment Prompts -->
            <div id="tab-content-5" class="tab-content space-y-8 hidden">
                <h2 class="text-2xl font-semibold mb-4 text-gray-900">üìÑ Structured ML Assignment Workflow Prompts</h2>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h3 class="text-xl font-medium mb-3">Prompt 1: Initial Assignment Setup</h3>
                    <div class="markdown-code">
                        <code>
You will complete a full Machine Learning assignment on a CSV dataset by working in 4 structured phases, one after another. The final objective is to explore the data, build regression and classification models, and visualize a decision boundary with misclassified points, following a clean, human-like workflow. At every phase, you must write short explanations, make simple reasoning-based choices, and maintain readable, well-commented code. Your work will follow these four phases: Phase 1 ‚Äî EDA & Preprocessing Understand the dataset using pairplots, correlation heatmaps, and summary statistics. Prepare the data by splitting and scaling. Phase 2 ‚Äî Regression Build and evaluate SLR, MLR, Ridge, and Lasso models using R¬≤, comparing their performance and interpreting results. Phase 3 ‚Äî Classification Convert the target to a binary label using median split, train Logistic Regression and KNN classifiers, and compare their accuracy. Phase 4 ‚Äî Decision Boundary + Final Summary Plot the decision boundary, highlight misclassified points, overlay a y = m x + c line, and write a final insight-oriented summary. After each phase, you must stop and wait for the next instruction. If ready, respond: ‚ÄúReady. Waiting for Phase 1.‚Äù
                        </code>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h3 class="text-xl font-medium mb-3">Prompt 2: Phase 1 Instructions (EDA & Preprocessing)</h3>
                    <div class="markdown-code">
                        <code>
Load & Inspect the Dataset Load the CSV "DATASET_NAME.csv" using pandas and display .head(), .info(), .describe(), and the dataset shape. Write a short paragraph describing what the dataset looks like, including the target column and any early observations. Visual EDA Generate a pairplot of numeric features and discuss visible trends or clusters in 4‚Äì6 sentences. Then compute a correlation heatmap with annotations and describe the strongest correlations, especially those related to the target. Preprocessing Steps Select the target column, separate X and y, perform a train‚Äìtest split (test_size=0.2, fixed random_state), and apply Min-Max scaling to the features. Briefly explain why scaling is important. When finished, do not move to modeling. End with: ‚ÄúPhase 1 complete. Waiting for Phase 2.‚Äù
                        </code>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h3 class="text-xl font-medium mb-3">Prompt 3: Phase 2 Instructions (Regression Modeling)</h3>
                    <div class="markdown-code">
                        <code>
PHASE 2 ‚Äî Regression Modeling (SLR, MLR, Ridge, Lasso) In this phase, you will model the continuous target and evaluate performance using R¬≤. Work step-by-step and write short explanations after each result. Simple Linear Regression (SLR) Select one meaningful feature based on Phase 1 insights (pairplot or correlations). Train an SLR model and report R¬≤, coefficient(s), and intercept. Also add a concise interpretation of whether the single feature seems predictive. Multiple Linear Regression (MLR) Train MLR using all features. Report R¬≤, coefficients, and intercept, then compare MLR vs SLR in 3‚Äì5 sentences. Mention whether adding features improved the model and why that is expected. Ridge & Lasso Regression Train Ridge and Lasso, tuning alpha over a small set (e.g., [0.01, 0.1, 1, 10]). Report the best R¬≤ for each model and briefly describe how regularization affects coefficients. Write 3‚Äì6 sentences comparing MLR, Ridge, and Lasso in terms of fit and general behavior. When Phase 2 is finished, stop and say: ‚ÄúPhase 2 complete. Waiting for Phase 3.‚Äù
                        </code>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h3 class="text-xl font-medium mb-3">Prompt 4: Phase 3 Instructions (Classification)</h3>
                    <div class="markdown-code">
                        <code>
PHASE 3 ‚Äî Classification (Median Split, Logistic Regression, KNN) In this phase, convert the regression problem into classification and compare model performances using accuracy. Binary Target Creation (Median Split) Convert the continuous target into a binary label (1 if above median, 0 otherwise). Perform a fresh train‚Äìtest split and re-apply scaling. Logistic Regression Train a Logistic Regression model and report accuracy. Print coefficients and add a short explanation about how well it separated the classes. K-Nearest Neighbors (KNN) Train a KNN classifier using multiple k values (such as 3, 5, 7). Select the best k based on accuracy and explain your choice in 3‚Äì5 sentences. Then compare KNN vs Logistic Regression briefly. When complete, stop and say: ‚ÄúPhase 3 complete. Waiting for Phase 4.‚Äù Do not draw decision boundaries yet ‚Äî that happens in the next phase.
                        </code>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h3 class="text-xl font-medium mb-3">Prompt 5: Phase 4 Instructions (Visualization & Summary)</h3>
                    <div class="markdown-code">
                        <code>
PHASE 4 ‚Äî Decision Boundary Visualization & Final Summary In this final phase, you will visualize classification behavior and wrap up the assignment clearly and professionally. Mandatory Decision Boundary Plot Pick two meaningful features (based on correlations or model coefficients). Train your chosen classifier (Logistic or best KNN) on these two features and: Plot the decision boundary using a meshgrid Plot the test points by true class color Highlight misclassified points Overlay a reference line y = m x + c for visual separation Interpret the Plot Write 6‚Äì10 sentences discussing separability, misclassification patterns, and what the boundary visually tells us about the model. Final Summary Concisely recap: Key EDA findings Best regression model (R¬≤) Best classification model (accuracy) One clear insight from the decision boundary End with: ‚ÄúAll phases completed.‚Äù
                        </code>
                    </div>
                </div>
            </div>
        </main>

        <footer class="text-center mt-12 text-gray-500">
            <p>Minimalist cheat sheet designed for clarity and quick reference.</p>
        </footer>
    </div>

    <script>
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        // Function to switch between tabs
        function switchTab(tabNumber) {
            // Hide all content and reset all button styles
            tabContents.forEach(content => {
                content.classList.add('hidden');
            });
            tabButtons.forEach(button => {
                button.classList.remove('text-indigo-600', 'border-indigo-500');
                button.classList.add('text-gray-500', 'border-transparent', 'hover:text-gray-700', 'hover:border-gray-300');
            });

            // Show the selected content and set the active style for the button
            const selectedContent = document.getElementById(`tab-content-${tabNumber}`);
            const selectedButton = document.getElementById(`tab-btn-${tabNumber}`);

            selectedContent.classList.remove('hidden');
            selectedButton.classList.remove('text-gray-500', 'border-transparent', 'hover:text-gray-700', 'hover:border-gray-300');
            selectedButton.classList.add('text-indigo-600', 'border-indigo-500');
        }

        // Initialize the first tab as active upon load
        document.addEventListener('DOMContentLoaded', () => {
            switchTab(1);
        });

        // Function to copy code blocks
        function copyCode(button) {
            const code = button.parentElement.nextElementSibling.querySelector('code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                button.innerText = 'Copied!';
                setTimeout(() => {
                    button.innerText = 'Copy';
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        }
    </script>
</body>
</html>
